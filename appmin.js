document.addEventListener("DOMContentLoaded",function(){!function e(){let t=document.querySelector(".contenedor-nav"),o=document.querySelector(".portada"),a=document.querySelector(".up"),r=document.querySelector(".whatsapp");window.addEventListener("scroll",function e(){let n=o.getBoundingClientRect().bottom;n<651?(t.classList.add("scroll"),a.classList.add("active")):(t.classList.remove("scroll"),a.classList.remove("active")),n<=-1700?r.classList.add("waths"):r.classList.remove("waths")}),a.addEventListener("click",function e(){window.scrollTo(0,0)})}(),!function e(){document.querySelector(".contenedor-nav");let t=document.querySelector(".contenedor-ham"),o=document.querySelector(".navegacion-principal"),a=document.querySelector("#ham"),r=document.querySelector("#x"),n=document.querySelectorAll(".navegacion-principal a");n.forEach(e=>{e.addEventListener("click",()=>{o.classList.toggle("active"),t.classList.toggle("animationham"),a.classList.toggle("animationx"),r.classList.toggle("animationx")})}),t.addEventListener("click",function e(){o.classList.toggle("active"),t.classList.toggle("animationham"),a.classList.toggle("animationx"),r.classList.toggle("animationx")})}();let e={nombre:"",telefono:"",email:"",mensaje:""},t=document.querySelector("#formulario"),o=document.querySelector("#nombre"),a=document.querySelector("#telefono"),r=document.querySelector("#email"),n=document.querySelector("#mensaje"),l=document.querySelector('#formulario button[type="submit"]'),i=document.querySelector('#formulario button[type="reset"]'),s=document.querySelector(".contenedor__modal"),c=document.querySelector(".modal"),u=document.querySelector(".cerrarModal"),d=document.querySelector(".btn__aceptar"),m=document.querySelector(".modal__speener");function g(t){if([t.target.value].includes("")){v(`El ${t.target.id} es obligatorio`,t.target.parentElement),e[t.target.name]="",L();return}if("telefono"===t.target.id&&!function e(t){let o=/(\(?(\+57)\)?)?(3)(\d{9})/.test(t);return o}(t.target.value)||"telefono"===t.target.id&&t.target.value.length>10){v("El WhatsApp no es v\xe1lido",t.target.parentElement),e[t.target.name]="",a.focus(),L();return}if("email"===t.target.id&&!function e(t){let o=/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(t);return o}(t.target.value)){v("El correo no es valido",t.target.parentElement),e[t.target.name]="",r.focus(),L();return}if("mensaje"===t.target.id&&n.value.length<10){v("El mensaje es invalido",t.target.parentElement),e[t.target.name]="",n.focus(),L();return}f(t.target.parentElement),e[t.target.name]=t.target.value.trim("").toLowerCase(),L()}o.addEventListener("input",g),a.addEventListener("input",g),r.addEventListener("input",g),n.addEventListener("input",g),t.addEventListener("submit",function t(o){o.preventDefault(),o.stopPropagation(),fetch("https://formspree.io/f/mayzvrjd",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:e.nombre,telefono:e.telefono,email:e.email,mensaje:e.mensaje})}).then(e=>e.json()).then(e=>{console.log("Formulario enviado exitosamente:",e),s.classList.remove("oculto"),m.classList.remove("oculto"),setTimeout(()=>{m.classList.add("oculto"),c.classList.remove("oculto")},4e3),p(),l.disabled=!0,window.scrollTo(0,0)}).catch(e=>{console.error("Error al enviar el formulario:",e)})}),u.addEventListener("click",y),d.addEventListener("click",y);let v=(e,t)=>{f(t);let o=document.createElement("P");o.textContent=e,o.classList.add("error"),t.appendChild(o)};function f(e){let t=e.querySelector(".error");t&&t.remove()}function L(){if(Object.values(e).includes("")){l.classList.add("opacity-50");return}l.classList.remove("opacity-50"),l.disabled=!1}function p(){e.nombre="",e.telefono="",e.email="",e.mensaje="",t.reset(),L()}function y(){s.classList.add("oculto"),c.classList.add("oculto"),m.classList.add("oculto"),window.scrollTo(0,0)}i.addEventListener("click",function(e){e.preventDefault(),p(),o.focus()})});