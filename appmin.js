document.addEventListener("DOMContentLoaded",function(){iniciarApp()});function iniciarApp(){scrollNavigate(),navegacionScroll(),interaccionNav(),botonhero(),botonsoy(),insertDate()}function scrollNavigate(){const a=document.querySelectorAll(".contenedor-nav a");a.forEach(a=>{a.addEventListener("click",function(a){a.preventDefault();const b=a.target.attributes.href.value,c=document.querySelector(b),d=768>=window.innerWidth,e=d?100:0,f=c.offsetTop-e;window.scrollTo({top:f,behavior:"smooth"})})})}function navegacionScroll(){const a=document.querySelector(".portada"),b=document.querySelector(".up"),c=document.querySelector(".whatsapp");window.addEventListener("scroll",function(){const d=a.getBoundingClientRect().bottom;761>=d?b.classList.add("active"):b.classList.remove("active"),-1700>=d?c.classList.add("waths"):c.classList.remove("waths")}),b.addEventListener("click",function(){window.scrollTo(0,0)})}function interaccionNav(){const a=document.querySelector(".contenedor-ham"),b=document.querySelector(".navegacion-principal"),c=document.querySelector("#ham"),d=document.querySelector("#x"),e=document.querySelectorAll(".navegacion-principal a");e.forEach(f=>{f.addEventListener("click",()=>{b.classList.toggle("active"),a.classList.toggle("animationham"),c.classList.toggle("animationx"),d.classList.toggle("animationx"),e.forEach(a=>{a.classList.toggle("entrada_enlace")})})}),a.addEventListener("click",function(){b.classList.toggle("active"),a.classList.toggle("animationham"),c.classList.toggle("animationx"),d.classList.toggle("animationx"),e.forEach(a=>{a.classList.toggle("entrada_enlace")})})}function botonhero(){const a=document.querySelector(".primer-boton");a.addEventListener("click",function(a){a.preventDefault();const b=a.target.attributes.href.value,c=document.querySelector(b),d=768>=window.innerWidth,e=d?100:0,f=c.offsetTop-e;window.scrollTo({top:f,behavior:"smooth"})})}function botonsoy(){const a=document.querySelector(".segundo-btn");a.addEventListener("click",function(a){a.preventDefault();const b=a.target.attributes.href.value,c=document.querySelector(b),d=768>=window.innerWidth,e=d?100:0,f=c.offsetTop-e;window.scrollTo({top:f,behavior:"smooth"})})}const email={nombre:"",telefono:"",email:"",mensaje:""},formulario=document.querySelector("#formulario"),inputNombre=document.querySelector("#nombre"),inputTelefono=document.querySelector("#telefono"),inputEmail=document.querySelector("#email"),inputMensaje=document.querySelector("#mensaje"),btn=document.querySelector("#formulario button[type=\"submit\"]"),btnReset=document.querySelector("#formulario button[type=\"reset\"]"),modal=document.querySelector(".contenedor__modal"),modalContent=document.querySelector(".modal"),btnModal=document.querySelector(".cerrarModal"),btnAceptar=document.querySelector(".btn__aceptar"),speener=document.querySelector(".modal__speener");inputNombre.addEventListener("input",validar),inputTelefono.addEventListener("input",validar),inputEmail.addEventListener("input",validar),inputMensaje.addEventListener("input",validar),formulario.addEventListener("submit",enviandoForm),btnModal.addEventListener("click",cerrarModal),btnAceptar.addEventListener("click",cerrarModal);function validar(a){return[a.target.value].includes("")?(validando(`El ${a.target.id} es obligatorio`,a.target.parentElement),email[a.target.name]="",void comprobarEmail()):"telefono"!==a.target.id||validarWpp(a.target.value)?"telefono"===a.target.id&&10<a.target.value.length?(validando("El WhatsApp no es v\xE1lido",a.target.parentElement),email[a.target.name]="",inputTelefono.focus(),void comprobarEmail()):"email"!==a.target.id||validarEmail(a.target.value)?"mensaje"===a.target.id&&10>inputMensaje.value.length?(validando("El mensaje es invalido",a.target.parentElement),email[a.target.name]="",inputMensaje.focus(),void comprobarEmail()):void(limpiarAlerta(a.target.parentElement),email[a.target.name]=a.target.value.trim("").toLowerCase(),comprobarEmail()):(validando("El correo no es valido",a.target.parentElement),email[a.target.name]="",inputEmail.focus(),void comprobarEmail()):(validando("El WhatsApp no es v\xE1lido",a.target.parentElement),email[a.target.name]="",inputTelefono.focus(),void comprobarEmail())}const validando=(a,b)=>{limpiarAlerta(b);const c=document.createElement("P");c.textContent=a,c.classList.add("error"),b.appendChild(c)};function limpiarAlerta(a){const b=a.querySelector(".error");b&&b.remove()}function validarEmail(a){const b=/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(a);return b}function validarWpp(a){const b=/(\(?(\+57)\)?)?(3)(\d{9})/.test(a);return b}function comprobarEmail(){return Object.values(email).includes("")?void btn.classList.add("opacity-50"):void(btn.classList.remove("opacity-50"),btn.disabled=!1)}function enviandoForm(a){a.preventDefault(),a.stopPropagation(),fetch("https://formspree.io/f/mayzvrjd",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:email.nombre,telefono:email.telefono,email:email.email,mensaje:email.mensaje})}).then(a=>a.json()).then(a=>{console.log("Formulario enviado exitosamente:",a),modal.classList.remove("oculto"),speener.classList.remove("oculto"),setTimeout(()=>{speener.classList.add("oculto"),modalContent.classList.remove("oculto")},4e3),resetForm(),btn.disabled=!0,window.scrollTo(0,0)}).catch(a=>{console.error("Error al enviar el formulario:",a)})}btnReset.addEventListener("click",function(a){a.preventDefault(),resetForm(),inputNombre.focus()});function resetForm(){email.nombre="",email.telefono="",email.email="",email.mensaje="",formulario.reset(),comprobarEmail()}function cerrarModal(){modal.classList.add("oculto"),modalContent.classList.add("oculto"),speener.classList.add("oculto"),window.scrollTo(0,0)}function insertDate(){const a=document.querySelector(".copytext"),b=new Date().getFullYear(),c=document.createElement("P");c.innerHTML=`<p class="footer__copy">Todos los derechos reservados<span class="nombre"><strong>Soy NÃ­cola &copy; ${b}</strong></span></p>`,a.appendChild(c)}