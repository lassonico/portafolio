document.addEventListener("DOMContentLoaded",function(){!function e(){let t=document.querySelector(".contenedor-nav"),r=document.querySelector(".portada"),o=document.querySelector(".up");window.addEventListener("scroll",function e(){let a=r.getBoundingClientRect().bottom;a<651&&(t.classList.add("scroll"),o.classList.add("active")),a>=651&&(t.classList.remove("scroll"),o.classList.remove("active"))}),o.addEventListener("click",function e(){window.scrollTo(0,0)})}(),!function e(){let t=document.querySelector(".contenedor-nav"),r=document.querySelector(".contenedor-ham"),o=document.querySelector(".navegacion-principal"),a=document.querySelector("#ham"),n=document.querySelector("#x"),l=document.querySelectorAll(".navegacion-principal a");l.forEach(e=>{e.addEventListener("click",()=>{o.classList.toggle("active"),r.classList.toggle("animationham"),a.classList.toggle("animationx"),n.classList.toggle("animationx"),t.classList.remove("scroll")})}),r.addEventListener("click",function e(){o.classList.toggle("active"),t.classList.remove("scroll"),r.classList.toggle("animationham"),a.classList.toggle("animationx"),n.classList.toggle("animationx")})}();let e={nombre:"",telefono:"",email:"",mensaje:""},t=document.querySelector("#formulario"),r=document.querySelector("#nombre"),o=document.querySelector("#telefono"),a=document.querySelector("#email"),n=document.querySelector("#mensaje"),l=document.querySelector('#formulario button[type="submit"]'),i=document.querySelector('#formulario button[type="reset"]'),c=document.querySelector(".contenedor__modal"),s=document.querySelector(".modal"),u=document.querySelector(".cerrarModal"),d=document.querySelector(".btn__aceptar"),m=document.querySelector(".modal__speener");function g(t){if([t.target.value].includes("")){f(`El ${t.target.id} es obligatorio`,t.target.parentElement),e[t.target.name]="",p();return}if("telefono"===t.target.id&&!function e(t){let r=/(\(?(\+57)\)?)?(3)(\d{9})/.test(t);return r}(t.target.value)||"telefono"===t.target.id&&t.target.value.length>10){f("El WhatsApp no es v\xe1lido",t.target.parentElement),e[t.target.name]="",o.focus(),p();return}if("email"===t.target.id&&!function e(t){let r=/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(t);return r}(t.target.value)){f("El correo no es valido",t.target.parentElement),e[t.target.name]="",a.focus(),p();return}if("mensaje"===t.target.id&&n.value.length<10){f("El mensaje es invalido",t.target.parentElement),e[t.target.name]="",n.focus(),p();return}v(t.target.parentElement),e[t.target.name]=t.target.value.trim("").toLowerCase(),p()}r.addEventListener("input",g),o.addEventListener("input",g),a.addEventListener("input",g),n.addEventListener("input",g),t.addEventListener("submit",function e(i){i.preventDefault(),i.stopPropagation();let u=new FormData(t);fetch("formulario.php",{method:"POST",body:u}).then(e=>e.json()).then(e=>{if(e.error&&"nombre"===e.campo){f("El nombre completo es obligatorio",r.parentElement),r.focus(),p();return}if(e.error&&"telefono"===e.campo){f("El WhatsApp tiene alg\xfan valor errado",o.parentElement),o.focus(),p();return}if(e.error&&"email"===e.campo){f("El correo electr\xf3nico tiene alg\xfan caracter errado",a.parentElement),a.focus(),p();return}if(e.error&&"mensaje"===e.campo){f("El mensaje tiene alg\xfan valor errado",n.parentElement),n.focus(),p();return}}).catch(e=>console.log(e)),c.classList.remove("oculto"),m.classList.remove("oculto"),setTimeout(()=>{m.classList.add("oculto"),s.classList.remove("oculto")},4e3),L(),l.disabled=!0,window.scrollTo(0,0)}),u.addEventListener("click",E),d.addEventListener("click",E);let f=(e,t)=>{v(t);let r=document.createElement("P");r.textContent=e,r.classList.add("error"),t.appendChild(r)};function v(e){let t=e.querySelector(".error");t&&t.remove()}function p(){if(Object.values(e).includes("")){l.classList.add("opacity-50");return}l.classList.remove("opacity-50"),l.disabled=!1}function L(){e.nombre="",e.telefono="",e.email="",e.mensaje="",t.reset(),p()}function E(){c.classList.add("oculto"),s.classList.add("oculto"),m.classList.add("oculto"),window.scrollTo(0,0)}i.addEventListener("click",function(e){e.preventDefault(),L(),r.focus()})});